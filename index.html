<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.65">
  <style type="text/css">
    body {background-color: #fffef6}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; line-height: 22.4px; font: 14.0px 'PingFang TC'; color: #493933; -webkit-text-stroke: #493933}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 22.4px; font: 14.0px '.Apple Color Emoji UI'; color: #493933; -webkit-text-stroke: #493933; background-color: #ffffff; background-color: rgba(255, 255, 255, 0.3)}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; line-height: 19.2px; font: 14.0px 'PingFang TC'; color: #493933; -webkit-text-stroke: #493933; background-color: #ffffff; background-color: rgba(255, 255, 255, 0.4)}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; line-height: 44.8px; font: 28.0px 'Helvetica Neue'; color: #493933; -webkit-text-stroke: #493933}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; line-height: 20.8px; font: 13.0px 'PingFang TC'; color: #493933; -webkit-text-stroke: #493933}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 32.0px; font: 20.0px 'Helvetica Neue'; color: #f1b485; -webkit-text-stroke: #f1b485; background-color: #f2e3d0}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; line-height: 17.3px; font: 10.8px 'PingFang TC'; color: #493933; -webkit-text-stroke: #493933}
    p.p10{margin:0;text-align:center;line-height:32px;font:20px 'PingFang TC Semibold';color:#f1b485;-webkit-text-stroke:#f1b485;background-color:#f2e3d0}
    p.p11{margin:0;line-height:19.2px;font:12px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933;min-height:15px}
    p.p12{margin:0;line-height:32px;font:20px '.AppleTraditionalChineseFont';color:#f1b485;-webkit-text-stroke:#f1b485;background-color:#f2e3d0}
    p.p13{margin:0;text-align:center;line-height:19.2px;font:14px 'PingFang TC';color:#f1b485;-webkit-text-stroke:#f1b485}
    p.p14{margin:0;text-align:center;line-height:19.2px;font:14px 'Helvetica Neue';color:#88786e;-webkit-text-stroke:#88786e}
    p.p15{margin:0;text-align:center;line-height:19.2px;font:14px 'PingFang TC';color:#88786e;-webkit-text-stroke:#88786e}
    p.p17{margin:0;line-height:20.8px;font:13px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933}
    p.p18{margin:0;line-height:20.8px;font:13px 'PingFang TC';color:#493933;-webkit-text-stroke:#493933}
    p.p19{margin:0;line-height:20.8px;font:13px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933;min-height:16px}
    p.p20{margin:0;line-height:20.8px;font:13px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933;background-color:#fff3e0}
    p.p22{margin:0 0 10px 0;line-height:22.4px;font:14px 'PingFang TC';color:#88786e;-webkit-text-stroke:#88786e}
    p.p23{margin:0;line-height:19.2px;font:12px 'PingFang TC Semibold';color:#493933;-webkit-text-stroke:#493933}
    p.p24{margin:0;line-height:19.2px;font:14px 'PingFang TC';color:#ffffff;-webkit-text-stroke:#ffffff;background-color:#f1b485}
    p.p25{margin:0;line-height:20.8px;font:13px 'Helvetica Neue';color:#88786e;-webkit-text-stroke:#88786e;background-color:#fffef6}
    p.p26{margin:0;line-height:22.4px;font:14px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933}
    p.p27{margin:0;line-height:19.2px;font:12px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933;background-color:#1e80f0;min-height:15px}
    p.p28{margin:0;line-height:19.2px;font:12px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933;background-color:#40a33f;min-height:15px}
    p.p29{margin:0;line-height:19.2px;font:12px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933;background-color:#fd8508;min-height:15px}
    p.p30{margin:0;line-height:19.2px;font:12px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933;background-color:#ee2b2a;min-height:15px}
    span.s1{font:28px '.Apple Color Emoji UI';font-kerning:none}
    span.s2{font:28px 'Helvetica Neue';font-kerning:none}
    span.s3{font:28px '.AppleTraditionalChineseFont';font-kerning:none}
    span.s4{font:14px 'Helvetica Neue';font-kerning:none}
    span.s5{font-kerning:none}
    span.s6{font:14px 'PingFang TC';font-kerning:none}
    span.s7{font:14px '.Apple Color Emoji UI';font-kerning:none}
    span.s8{font-kerning:none;background-color:#f2e3d0}
    span.s9{font:20px '.Apple Color Emoji UI';font-kerning:none}
    span.s10{font:20px '.AppleTraditionalChineseFont';font-kerning:none}
    span.s11{font:18px '.Apple Color Emoji UI';font-kerning:none;background-color:#f2e3d0}
    span.s12{font:18px '.AppleTraditionalChineseFont';font-kerning:none;background-color:#f2e3d0}
    span.s13{font:28px '.AppleTraditionalChineseFont';font-kerning:none;background-color:#f2e3d0}
    span.s14{font:13px 'Helvetica Neue';font-kerning:none;background-color:#f2e3d0}
    span.s15{font:20px 'Helvetica Neue';font-kerning:none}
    span.s16{font:14px 'Helvetica Neue';font-kerning:none;background-color:#f2e3d0}
    span.s17{font:14px 'PingFang TC';font-kerning:none;background-color:#f2e3d0}
    span.s18{font:12px '.Apple Color Emoji UI';font-kerning:none;background-color:#fffef6}
    span.s19{font:12px 'Helvetica Neue';font-kerning:none;background-color:#fffef6}
    span.s20{font-kerning:none;background-color:#fffef6}
    span.s21{font:13px '.AppleTraditionalChineseFont';font-kerning:none;background-color:#fff3e0}
    span.s22{font-kerning:none;background-color:#fff3e0}
    span.s23{font:13px 'PingFang TC';font-kerning:none;background-color:#fff3e0}
    span.s24{font:13px 'Helvetica Neue';font-kerning:none;background-color:#fff3e0}
    span.s25{font:13px 'PingFang TC';font-kerning:none}
    span.s26{font:12px '.AppleTraditionalChineseFont';font-kerning:none;background-color:#fffef6}
    span.s27{font:12px '.AppleTraditionalChineseFont';font-kerning:none;background-color:#ffffff}
    span.s28{font:12px 'Helvetica Neue';font-kerning:none;background-color:#ffffff}
    span.s29{font:13px '.Apple Color Emoji UI';font-kerning:none}
        /* ==== æ–°å¢ï¼šæ•´é«”æ’ç‰ˆå®¹å™¨èˆ‡å¡ç‰‡æ¨£å¼ ==== */
    .dashboard-wrapper {
      max-width: 1100px;
      margin: 24px auto;
      padding: 0 16px;
    }
    .stats-row {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }
    .stat-card {
      background: linear-gradient(135deg, #f6c18b, #f3a98a);
      border-radius: 16px;
      padding: 24px 16px;
      text-align: center;
      color: #493933;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }
    .stat-number {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 8px;
    }
    .stat-label {
      font-size: 14px;
    }

    .section-card {
      background-color: #f6e4cf;
      border-radius: 18px;
      padding: 20px 20px 24px;
      margin-bottom: 24px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.06);
    }

    .blocks-row {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin-top: 16px;
    }
    .block-card {
      background: linear-gradient(135deg, #f7c18b, #f3ad8f);
      border-radius: 16px;
      padding: 24px 16px;
      text-align: center;
      color: #493933;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }
    .block-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
    }
    .block-minutes {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 12px;
    }
    .block-desc {
      font-size: 14px;
      line-height: 1.5;
    }

    @media (max-width: 768px) {
      .stats-row {
        grid-template-columns: repeat(2, 1fr);
      }
      .blocks-row {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
<h1 style="margin:0 0 8px 0;text-align:center;line-height:44.8px;font:28px 'PingFang TC Semibold';color:#493933;-webkit-text-stroke:#493933">
  <span class="s1">ğŸ¯</span><span class="s2"><b> </b></span><span class="s3"><b>è‹±èªå­¸ç¿’å¹³å°</b></span>
</h1>
<p class="p2"><span class="s4">B1â†’B2 </span><span class="s5">é€²éšèª²ç¨‹</span><span class="s4"> | </span><span class="s5">æ¯æ—¥</span><span class="s4">15</span><span class="s5">åˆ†é˜é›†ä¸­å­¸ç¿’</span></p>
<div class="dashboard-wrapper">

  <p class="p3"><span class="s5">ğŸ‘¤</span><span class="s4"> </span><span class="s6">éŠå®¢</span></p>
  <p class="p4"><span class="s7">ğŸ‘¥</span><span class="s4"> </span><span class="s5">åˆ‡æ›ç”¨æˆ¶</span></p>

  <div class="section-card">
    <div class="stats-row">
      <!-- 4 å€‹ stat-card ... -->
    </div>
  </div>

  <div class="section-card">
    <p class="p7">â€¦æ¯æ—¥ 5-5-5 å­¸ç¿’æ–¹æ³•â€¦</p>
    <div class="blocks-row">
      <!-- 3 å€‹ block-card ... -->
    </div>
  </div>
</div>
<h3 style="margin:0 0 8px 0;text-align:center;line-height:28.8px;font:18px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933">
  <span class="s11">ğŸ¤</span><span class="s8"><b> Block 2: </b></span><span class="s12"><b>å£èªªè¼¸å‡º</b></span>
</h3>
<p class="p5"><span class="s8"><b>5 </b></span><span class="s13"><b>åˆ†é˜</b></span></p>
<p class="p6"><span class="s8">è·Ÿè®€ã€è‡ªç”±æ¼”è¬›æˆ–å°è©±ç·´ç¿’</span><span class="s14"> </span></p>
<p class="p9"><span class="s8">åŸ¹é¤Šå£èªªæµæš¢åº¦</span><span class="s14"> </span></p>

<h3 style="margin:0 0 8px 0;text-align:center;line-height:28.8px;font:18px 'Helvetica Neue';color:#493933;-webkit-text-stroke:#493933">
  <span class="s11">âœï¸</span><span class="s8"><b> Block 3: </b></span><span class="s12"><b>å¯«ä½œæ•´åˆ</b></span>
</h3>
<p class="p5"><span class="s8"><b>5 </b></span><span class="s13"><b>åˆ†é˜</b></span></p>
<p class="p6"><span class="s8">å¾®å¯«ä½œç·´ç¿’ã€å¥å­çµ„ç¹”</span><span class="s14"> </span></p>
<p class="p9"><span class="s8">å¼·åŒ–å¯«ä½œè¡¨é”èƒ½åŠ›</span><span class="s14"> </span></p>

<p class="p10"><span class="s9">ğŸ“…</span><span class="s15"><b> </b></span><span class="s10"><b>æ¯é€±å­¸ç¿’ä¸»é¡Œè¨ˆåŠƒ</b></span></p>
<p class="p11"><span class="s5"></span><br></p>

<p class="p12"><span class="s9">ğŸ“–</span><span class="s15"><b> B2 </b></span><span class="s5"><b>é€²éšæ–‡æ³•å­¸ç¿’</b></span></p>
<p class="p13"><span class="s8">ç¾åœ¨å®Œæˆå¼</span><span class="s16"> vs </span><span class="s8">éå»å®Œæˆå¼</span></p>
<p class="p14"><span class="s17">è™›æ“¬èªæ°£</span><span class="s8"> (If Clauses)</span></p>
<p class="p15"><span class="s8">è¢«å‹•èªæ…‹é€²éš</span></p>
<p class="p15"><span class="s8">è¤‡é›œå¥å‹çµæ§‹</span></p>
<p class="p15"><span class="s8">æ™‚æ…‹ç¶œåˆæ‡‰ç”¨</span></p>

<h4 style="margin:0 0 8px 0;line-height:19.2px;font:12px '.AppleTraditionalChineseFont';color:#f1b485;-webkit-text-stroke:#f1b485">
  <span class="s18">ğŸ“–</span><span class="s19"><b> </b></span><span class="s20"><b>ç¾åœ¨å®Œæˆå¼</b></span><span class="s19"><b> vs </b></span><span class="s20"><b>éå»å®Œæˆå¼</b></span>
</h4>
<p class="p17"><span class="s21"><b>ç¾åœ¨å®Œæˆå¼</b></span><span class="s22"><b> (Present Perfect):</b> </span><span class="s23">ç”¨æ–¼æè¿°å¾éå»åˆ°ç¾åœ¨ä»æœ‰å½±éŸ¿çš„è¡Œç‚ºã€‚</span></p>
<p class="p18"><span class="s21"><b>éå»å®Œæˆå¼</b></span><span class="s24"><b> (Past Perfect):</b> </span><span class="s22">ç”¨æ–¼æè¿°æ¯”å¦ä¸€å€‹éå»äº‹ä»¶æ›´æ—©ç™¼ç”Ÿçš„è¡Œç‚ºã€‚</span></p>
<p class="p19"><span class="s5"></span><br></p>
<p class="p18"><span class="s22">ä¾‹å¥ï¼š</span></p>
<p class="p17"><span class="s22">â€¢ I <b>have lived</b> here for 5 years. (</span><span class="s23">æˆ‘ä½åœ¨é€™è£¡</span><span class="s22">5</span><span class="s23">å¹´äº†ï¼Œç¾åœ¨ä»ä½åœ¨é€™è£¡</span><span class="s22">)</span></p>
<p class="p20"><span class="s5">â€¢ I <b>had lived</b> here for 5 years when I moved. (</span><span class="s25">æˆ‘æ¬å®¶å‰ä½äº†</span><span class="s5">5</span><span class="s25">å¹´</span><span class="s5">)</span></p>

<p class="p11"><span class="s5"></span><br></p>

<p class="p10"><span class="s9">âœï¸</span><span class="s15"><b> </b></span><span class="s10"><b>å¯«ä½œç·´ç¿’å·¥ä½œå€</b></span></p>
<p class="p13">
  <span class="s8">ç´šåˆ¥</span><span class="s16">1</span><span class="s8">ï¼šå¥å­çµ„åˆ</span>
  <!-- åŠ ä¸Š data-level è®“ JS ç¶å®š -->
  <button data-level="level1" style="margin-left:8px;font-size:12px;">æŠ½é¡Œ</button>
</p>
<p class="p15">
  <span class="s8">ç´šåˆ¥</span><span class="s16">2</span><span class="s8">ï¼šæ®µè½å¯«ä½œ</span>
  <button data-level="level2" style="margin-left:8px;font-size:12px;">æŠ½é¡Œ</button>
</p>
<p class="p15">
  <span class="s8">ç´šåˆ¥</span><span class="s16">3</span><span class="s8">ï¼šçŸ­æ–‡å‰µä½œ</span>
  <button data-level="level3" style="margin-left:8px;font-size:12px;">æŠ½é¡Œ</button>
</p>

<h4 style="margin:0 0 8px 0;line-height:19.2px;font:12px 'PingFang TC Semibold';color:#f1b485;-webkit-text-stroke:#f1b485">
  <span class="s18">ğŸ“</span><span class="s19"><b> </b></span><span class="s26"><b>å¥å­çµ„åˆç·´ç¿’</b></span>
</h4>
<p class="p22"><span class="s20">å°‡å…©å€‹ç°¡å–®å¥å­ç”¨é€£æ¥è©çµ„åˆæˆè¤‡é›œå¥</span></p>

<!-- é€™è£¡æ”¾æ–‡æ³•é¡Œç›®çš„å®¹å™¨ -->
<p class="p23"><span class="s27"><b>æ–‡æ³•é¡Œç›®ï¼š</b></span></p>
<p class="p23" id="grammar-question"></p>
<p class="p23"><span class="s27"><b>é¸é …ï¼š</b></span></p>
<p class="p23" id="grammar-options"></p>

<!-- é€™è£¡æ”¾å¯«ä½œé¡Œç›®çš„å®¹å™¨ -->
<p class="p23"><span class="s27"><b>é¡Œç›® / æç¤ºï¼š</b></span></p>
<div id="writing-exercise" style="margin:4px 16px;"></div>

<p class="p24"><span class="s5">ï¼ˆè«‹å…ˆåœ¨ä¸Šæ–¹ textarea ä½œç­”ï¼Œå†æŒ‰æäº¤ï¼‰</span></p>

<p class="p25"><span class="s29">ğŸ’¡</span><span class="s5"> </span><span class="s25">æç¤ºï¼šä½¿ç”¨</span><span class="s5"> because, although, when, if, unless </span><span class="s25">ç­‰é€£æ¥è©</span></p>

<p class="p12"><span class="s9">ğŸ“š</span><span class="s15"><b> B2 </b></span><span class="s5"><b>é€²éšè©å½™å­¸ç¿’</b></span></p>
<p class="p11"><span class="s5"></span><br></p>

<p class="p10"><span class="s9">ğŸ“Š</span><span class="s15"><b> </b></span><span class="s10"><b>å­¸ç¿’é€²åº¦</b></span></p>
<p class="p26"><span class="s17">è½åŠ›ç†è§£</span><span class="s8"> (Listening)</span></p>
<p class="p26"><span class="s8">65%</span></p>
<p class="p27"><span class="s5"></span><br></p>
<p class="p26"><span class="s17">å£èªªæµæš¢</span><span class="s8"> (Speaking)</span></p>
<p class="p26"><span class="s8">60%</span></p>
<p class="p28"><span class="s5"></span><br></p>
<p class="p26"><span class="s17">é–±è®€ç†è§£</span><span class="s8"> (Reading)</span></p>
<p class="p26"><span class="s8">70%</span></p>
<p class="p29"><span class="s5"></span><br></p>
<p class="p26"><span class="s17">å¯«ä½œèƒ½åŠ›</span><span class="s8"> (Writing)</span></p>
<p class="p26"><span class="s8">55%</span></p>
<p class="p30"><span class="s5"></span><br></p>

<!-- ===== ä¸‹é¢é–‹å§‹æ˜¯é¡Œåº«èˆ‡äº’å‹• script ===== -->
<script>
// æ–‡æ³•é¡Œåº«
const grammarData = [
  {
    topic: 'ç¾åœ¨å®Œæˆå¼ vs éå»å®Œæˆå¼',
    questions: [
      { question: 'I _____ in this city for 10 years.', options: ['lived', 'have lived', 'had lived', 'was living'], correct: 1, explanation: 'ç¾åœ¨å®Œæˆå¼è¡¨ç¤ºå¾éå»åˆ°ç¾åœ¨çš„æŒçºŒç‹€æ…‹ã€‚' },
      { question: 'Before he arrived, they _____ the meeting.', options: ['started', 'have started', 'had started', 'were starting'], correct: 2, explanation: 'éå»å®Œæˆå¼è¡¨ç¤ºåœ¨å¦ä¸€å€‹éå»å‹•ä½œä¹‹å‰ç™¼ç”Ÿçš„äº‹ã€‚' },
      { question: 'She _____ three novels since she started writing.', options: ['writes', 'has written', 'had written', 'wrote'], correct: 1, explanation: 'ç¾åœ¨å®Œæˆå¼è¡¨ç¤ºå·²å®Œæˆçš„å‹•ä½œã€‚' },
      { question: 'By the time we arrived, the movie _____ started.', options: ['has', 'have', 'had', 'was'], correct: 2, explanation: 'éå»å®Œæˆå¼è¡¨ç¤ºå…©å€‹éå»å‹•ä½œçš„æ™‚é–“é †åºã€‚' },
      { question: 'I _____ that book three times already.', options: ['read', 'have read', 'had read', 'am reading'], correct: 1, explanation: 'å·²ç¶“...è¡¨ç¤ºä½¿ç”¨ç¾åœ¨å®Œæˆå¼ã€‚' },
      { question: 'They _____ the project before the deadline.', options: ['complete', 'have completed', 'had completed', 'completed'], correct: 2, explanation: 'éå»å®Œæˆå¼è¡¨ç¤ºæ›´æ—©çš„éå»äº‹ä»¶ã€‚' }
    ]
  },
  {
    topic: 'ä»‹ç³»è©æ‡‰ç”¨',
    questions: [
      { question: 'The manager is responsible _____ the entire project.', options: ['in', 'for', 'at', 'on'], correct: 1, explanation: 'responsible forè¡¨ç¤ºè² è²¬ã€‚' },
      { question: 'We are looking _____ to your arrival next week.', options: ['at', 'forward', 'for', 'after'], correct: 1, explanation: 'look forward toè¡¨ç¤ºæœŸå¾…ã€‚' },
      { question: 'The training will be held _____ June 15th at 2 PM.', options: ['at', 'on', 'in', 'by'], correct: 1, explanation: 'å…·é«”æ—¥æœŸå‰ç”¨onã€‚' },
      { question: '_____ the budget constraints, the company still invested.', options: ['Although', 'Despite', 'Because', 'Due to'], correct: 1, explanation: 'Despiteå¾Œæ¥åè©ç‰‡èªã€‚' },
      { question: 'We succeeded _____ great effort and determination.', options: ['by', 'with', 'through', 'in'], correct: 2, explanation: 'throughè¡¨ç¤ºè—‰ç”±ã€‚' },
      { question: 'She is interested _____ learning new languages.', options: ['in', 'on', 'at', 'for'], correct: 0, explanation: 'interested inè¡¨ç¤ºå°...æœ‰èˆˆè¶£ã€‚' },
      { question: 'The report focuses _____ market trends.', options: ['in', 'on', 'at', 'for'], correct: 1, explanation: 'focus onè¡¨ç¤ºé—œæ³¨ã€‚' },
      { question: 'I have never heard _____ this company before.', options: ['of', 'about', 'from', 'in'], correct: 0, explanation: 'hear ofè¡¨ç¤ºè½èªªã€‚' },
      { question: 'The employees are committed _____ the company\'s mission.', options: ['to', 'for', 'on', 'in'], correct: 0, explanation: 'committed toè¡¨ç¤ºè‡´åŠ›æ–¼ã€‚' },
      { question: 'This decision is based _____ market research.', options: ['on', 'in', 'at', 'for'], correct: 0, explanation: 'based onè¡¨ç¤ºåŸºæ–¼ã€‚' }
    ]
  },
  {
    topic: 'è©æ€§è¾¨æ',
    questions: [
      { question: 'The _____ of the company has increased significantly.', options: ['growth', 'grow', 'growing', 'grows'], correct: 0, explanation: 'å† è©Theå¾Œéœ€è¦åè©ã€‚' },
      { question: 'The project was _____ completed before the deadline.', options: ['success', 'successfully', 'succeed', 'successful'], correct: 1, explanation: 'ä¿®é£¾å‹•è©éœ€è¦å‰¯è©ã€‚' },
      { question: 'We received an _____ proposal from our partner.', options: ['impress', 'impressive', 'impressed', 'impression'], correct: 1, explanation: 'ä¿®é£¾åè©éœ€è¦å½¢å®¹è©ã€‚' },
      { question: 'The employee\'s _____ to the job is commendable.', options: ['commit', 'commitment', 'committed', 'commits'], correct: 1, explanation: '\'så¾Œéœ€è¦åè©ã€‚' },
      { question: 'All participants must _____ to the code of conduct.', options: ['comply', 'compliance', 'compliant', 'complied'], correct: 0, explanation: 'åŠ©å‹•è©mustå¾Œç”¨å‹•è©åŸå½¢ã€‚' },
      { question: 'The _____ team completed the task on time.', options: ['efficiency', 'efficient', 'efficiently', 'effect'], correct: 1, explanation: 'ä¿®é£¾åè©teaméœ€è¦å½¢å®¹è©ã€‚' },
      { question: 'Her _____ in solving problems was impressive.', options: ['able', 'ability', 'ably', 'enable'], correct: 1, explanation: 'ä¸»èªå¾Œéœ€è¦åè©ã€‚' },
      { question: 'The system will _____ improve our workflow.', options: ['significant', 'significantly', 'significance', 'signify'], correct: 1, explanation: 'ä¿®é£¾å‹•è©improveéœ€è¦å‰¯è©ã€‚' },
      { question: 'We need to make a _____ decision quickly.', options: ['decide', 'decision', 'decisive', 'decidedly'], correct: 2, explanation: 'ä¿®é£¾åè©decisionéœ€è¦å½¢å®¹è©ã€‚' },
      { question: 'The _____ was clear and well-organized.', options: ['present', 'presence', 'presentation', 'presentable'], correct: 2, explanation: 'ä¸»èªéœ€è¦åè©ã€‚' }
    ]
  },
  {
    topic: 'ä¸»è©å‹•è©ä¸€è‡´',
    questions: [
      { question: 'The team _____ working on the new strategy.', options: ['are', 'is', 'have', 'has been'], correct: 1, explanation: 'é›†é«”åè©teamç”¨å–®æ•¸ã€‚' },
      { question: 'Neither the manager nor the employees _____ available.', options: ['is', 'are', 'was', 'be'], correct: 1, explanation: 'neither...norèˆ‡æœ€è¿‘ä¸»è©employeesä¸€è‡´ã€‚' },
      { question: 'The number of applicants _____ exceeded expectations.', options: ['have', 'has', 'was', 'were'], correct: 1, explanation: 'the number ofç”¨å–®æ•¸ã€‚' },
      { question: 'Each of the participants _____ received a certificate.', options: ['have', 'has', 'were', 'are'], correct: 1, explanation: 'each ofç”¨å–®æ•¸ã€‚' },
      { question: 'The group _____ divided into three teams.', options: ['are', 'is', 'have', 'has'], correct: 1, explanation: 'é›†é«”åè©groupç”¨å–®æ•¸ã€‚' },
      { question: 'A number of employees _____ joined the program.', options: ['has', 'have', 'is', 'was'], correct: 1, explanation: 'a number ofç”¨è¤‡æ•¸ã€‚' },
      { question: 'The majority of the budget _____ allocated.', options: ['are', 'is', 'have', 'has'], correct: 1, explanation: 'majorityå–®ç¨ç”¨å–®æ•¸ã€‚' },
      { question: 'Both of them _____ excellent skills.', options: ['has', 'have', 'is', 'was'], correct: 1, explanation: 'bothç”¨è¤‡æ•¸ã€‚' },
      { question: 'Everyone in the office _____ received the memo.', options: ['have', 'has', 'are', 'were'], correct: 1, explanation: 'everyoneç”¨å–®æ•¸ã€‚' },
      { question: 'The statistics _____ show a positive trend.', options: ['is', 'are', 'was', 'has'], correct: 1, explanation: 'statisticsä½œè¤‡æ•¸ç”¨ã€‚' }
    ]
  },
  {
    topic: 'åˆ†è©èˆ‡å½¢å®¹è©',
    questions: [
      { question: 'The _____ results met all requirements.', options: ['expected', 'expecting', 'expect', 'expects'], correct: 0, explanation: 'éå»åˆ†è©ä¿®é£¾åè©ã€‚' },
      { question: 'The _____ news from the CEO surprised everyone.', options: ['announcing', 'announced', 'announce', 'announces'], correct: 1, explanation: 'éå»åˆ†è©ä¿®é£¾åè©ã€‚' },
      { question: 'We are _____ to hear about the success.', options: ['excited', 'exciting', 'excite', 'excites'], correct: 0, explanation: 'äººè¢«å‹•æ™‚ç”¨éå»åˆ†è©ã€‚' },
      { question: 'The _____ presentation impressed the investors.', options: ['compelling', 'compel', 'compelled', 'compels'], correct: 0, explanation: 'ç¾åœ¨åˆ†è©ä¿®é£¾åè©ã€‚' },
      { question: 'All _____ employees will receive bonuses.', options: ['qualify', 'qualified', 'qualifying', 'qualifies'], correct: 1, explanation: 'éå»åˆ†è©ä½œå®šèªã€‚' },
      { question: 'The _____ documents need to be filed.', options: ['sign', 'signed', 'signing', 'signs'], correct: 1, explanation: 'éå»åˆ†è©è¡¨è¢«å‹•ã€‚' },
      { question: 'This is a very _____ software program.', options: ['use', 'useful', 'using', 'used'], correct: 1, explanation: 'å½¢å®¹è©ä¿®é£¾åè©ã€‚' },
      { question: 'The _____ student worked very hard.', options: ['motivate', 'motivated', 'motivating', 'motivates'], correct: 1, explanation: 'éå»åˆ†è©è¡¨è¢«å‹•å«ç¾©ã€‚' },
      { question: 'The _____ workshop was very informative.', options: ['organize', 'organized', 'organizing', 'organizes'], correct: 1, explanation: 'éå»åˆ†è©ä½œå®šèªã€‚' },
      { question: 'The _____ children played happily.', options: ['excite', 'excited', 'exciting', 'excites'], correct: 1, explanation: 'éå»åˆ†è©è¡¨è¢«å‹•å«ç¾©ã€‚' }
    ]
  },
  {
    topic: 'é€£æ¥è© vs ä»‹ç³»è©',
    questions: [
      { question: '_____ the difficult circumstances, the team remained productive.', options: ['Although', 'Despite', 'However', 'Because of'], correct: 1, explanation: 'Despiteæ˜¯ä»‹ç³»è©ã€‚' },
      { question: 'We completed the task _____ it rained heavily.', options: ['despite', 'although', 'in spite of', 'because'], correct: 1, explanation: 'å®Œæ•´å­å¥ç”¨é€£æ¥è©althoughã€‚' },
      { question: '_____ the budget increase, we cannot approve it.', options: ['In spite of', 'Even though', 'Because', 'For'], correct: 0, explanation: 'in spite ofæ˜¯ä»‹ç³»è©ã€‚' },
      { question: 'The company expanded _____ increasing demand.', options: ['because', 'due to', 'although', 'unless'], correct: 1, explanation: 'due toæ˜¯ä»‹ç³»è©çŸ­èªã€‚' },
      { question: '_____ the rain, the event was successful.', options: ['Despite of', 'In spite of', 'Although', 'Because'], correct: 1, explanation: 'in spite ofæ˜¯æ­£ç¢ºçŸ­èªã€‚' },
      { question: 'He succeeded _____ his lack of experience.', options: ['despite', 'although', 'even if', 'whereas'], correct: 0, explanation: 'despiteå¾Œæ¥åè©ã€‚' },
      { question: 'She got the job _____ she had strong qualifications.', options: ['because of', 'because', 'due to', 'however'], correct: 1, explanation: 'å®Œæ•´å­å¥ç”¨becauseã€‚' },
      { question: '_____ working late, he finished the report.', options: ['By', 'Through', 'Despite', 'Unless'], correct: 2, explanation: 'despiteå¾Œæ¥å‹•åè©ã€‚' },
      { question: 'The project failed _____ poor planning.', options: ['because of', 'because', 'although', 'unless'], correct: 0, explanation: 'because ofå¾Œæ¥åè©ã€‚' },
      { question: '_____ his efforts, he could not finish on time.', options: ['Despite', 'Although', 'Because', 'Unless'], correct: 0, explanation: 'despiteå¾Œæ¥åè©ã€‚' }
    ]
  },
  {
    topic: 'è™›æ“¬èªæ°£',
    questions: [
      { question: 'If I _____ you, I would accept the offer.', options: ['was', 'were', 'am', 'had been'], correct: 1, explanation: 'è™›æ“¬èªæ°£ä¸­ä½¿ç”¨ wereï¼Œå³ä½¿ä¸»èªæ˜¯å–®æ•¸ã€‚' },
      { question: 'If you _____ harder, you would have passed.', options: ['studied', 'had studied', 'study', 'would study'], correct: 1, explanation: 'ç¬¬ä¸‰é¡æ¢ä»¶å¥ç”¨éå»å®Œæˆå¼ã€‚' }
    ]
  },
  {
    topic: 'è¢«å‹•èªæ…‹',
    questions: [
      { question: 'The project _____ by the team next week.', options: ['is completed', 'will be completed', 'was completed', 'has been completed'], correct: 1, explanation: 'æœªä¾†æ™‚è¢«å‹•èªæ…‹ä½¿ç”¨ will be + past participleã€‚' },
      { question: 'The report _____ yesterday.', options: ['should submit', 'should be submitted', 'should submitted', 'submit'], correct: 1, explanation: 'æƒ…æ…‹å‹•è© + be + past participleã€‚' }
    ]
  },
  {
    topic: 'è¤‡é›œå¥å‹',
    questions: [
      { question: '_____ he would come was uncertain.', options: ['That', 'Which', 'Who', 'What'], correct: 0, explanation: 'åè©å­å¥éœ€è¦ç”¨ that å¼•å°ã€‚' },
      { question: 'The book _____ I borrowed is excellent.', options: ['who', 'that', 'which', 'where'], correct: 1, explanation: 'å½¢å®¹è©å­å¥ä¿®é£¾åè©ï¼Œç”¨ that æˆ– whichã€‚' }
    ]
  },
  {
    topic: 'æ™‚æ…‹ç¶œåˆ',
    questions: [
      { question: 'When I _____, she _____ cooking.', options: ['arrive, was cooking', 'arrived, was cooking', 'arrived, is cooking', 'will arrive, was cooking'], correct: 1, explanation: 'éå»æ™‚å’Œéå»é€²è¡Œå¼ä¸€èµ·ä½¿ç”¨ã€‚' },
      { question: 'By next year, I _____ here for 20 years.', options: ['will work', 'will have worked', 'have worked', 'am working'], correct: 1, explanation: 'æœªä¾†å®Œæˆå¼ç”¨æ–¼è¡¨ç¤ºåˆ°æœªä¾†æŸå€‹æ™‚é–“é»å·²å®Œæˆçš„å‹•ä½œã€‚' }
    ]
  }
];

// å¯«ä½œé¡Œåº«
const writingExercisesBank = {
  level1: [
    { question: 'Combine: "She finished her homework. She went to play." Answer should use a conjunction.', hint: 'Use "after" or "before"' },
    { question: 'Combine: "He studied hard. He passed the exam." Answer should use a conjunction.', hint: 'Use "so" or "because"' },
    { question: 'Combine: "The weather was bad. We went outside anyway." Answer should use a conjunction.', hint: 'Use "although" or "even though"' },
    { question: 'Combine: "I finished my work. I went home." Answer should use a conjunction.', hint: 'Use "after" or "when"' },
    { question: 'Combine: "She was tired. She continued studying." Answer should use a conjunction.', hint: 'Use "though" or "despite"' }
  ],
  level2: [
    { topic: 'My favorite hobby', keywords: 'enjoy, practice, improve, passion' },
    { topic: 'A memorable travel experience', keywords: 'memorable, experience, learned, cultural' },
    { topic: 'The role of technology in education', keywords: 'technology, learning, improve, access' },
    { topic: 'How to manage time effectively', keywords: 'schedule, priority, focus, achieve' },
    { topic: 'The importance of friendship', keywords: 'support, trust, loyal, meaningful' }
  ],
  level3: [
    { topic: 'The importance of learning English in the digital age' },
    { topic: 'How to balance work and personal life' },
    { topic: 'The impact of social media on society' },
    { topic: 'Why continuous learning is essential for success' },
    { topic: 'Environmental protection and individual responsibility' }
  ]
};

// ç‹€æ…‹èˆ‡å‡½å¼
let currentGrammarIndex = 0;
let currentQuestionIndex = 0;

function loadGrammarQuestion() {
  const topic = grammarData[currentGrammarIndex];
  const question = topic.questions[currentQuestionIndex];

  const questionElement = document.getElementById('grammar-question');
  const optionsContainer = document.getElementById('grammar-options');
  if (!questionElement || !optionsContainer) return;

  questionElement.textContent = `[${topic.topic}] ${question.question}`;
  optionsContainer.innerHTML = '';

  question.options.forEach((option, index) => {
    const btn = document.createElement('button');
    btn.textContent = option;
    btn.style.marginRight = '6px';
    btn.style.marginBottom = '4px';
    btn.onclick = () => checkGrammarAnswer(index, question.correct, question.explanation);
    optionsContainer.appendChild(btn);
  });
}

function checkGrammarAnswer(selected, correct, explanation) {
  if (selected === correct) {
    alert('âœ… æ­£ç¢ºï¼\n\n' + explanation);
  } else {
    alert('âŒ å†è©¦ä¸€æ¬¡ï½\n\n' + explanation);
  }
  currentQuestionIndex++;
  if (currentQuestionIndex >= grammarData[currentGrammarIndex].questions.length) {
    currentQuestionIndex = 0;
    currentGrammarIndex = (currentGrammarIndex + 1) % grammarData.length;
  }
  loadGrammarQuestion();
}

function loadWritingExercise(level) {
  const exercises = writingExercisesBank[level];
  if (!exercises || exercises.length === 0) return;

  const exerciseDiv = document.getElementById('writing-exercise');
  if (!exerciseDiv) return;

  const idx = Math.floor(Math.random() * exercises.length);
  const ex = exercises[idx];

  exerciseDiv.innerHTML = '';

  if (ex.question) {
    const qP = document.createElement('p');
    qP.innerHTML = '<b>é¡Œç›®ï¼š</b> ' + ex.question;
    exerciseDiv.appendChild(qP);

    const hP = document.createElement('p');
    hP.innerHTML = '<b>æç¤ºï¼š</b> ' + ex.hint;
    exerciseDiv.appendChild(hP);
  } else {
    const tP = document.createElement('p');
    tP.innerHTML = '<b>å¯«ä½œä¸»é¡Œï¼š</b> ' + ex.topic;
    exerciseDiv.appendChild(tP);

    if (ex.keywords) {
      const kP = document.createElement('p');
      kP.innerHTML = '<b>é—œéµè©å½™ï¼š</b> ' + ex.keywords;
      exerciseDiv.appendChild(kP);
    }
  }

  const textarea = document.createElement('textarea');
  textarea.id = 'writing-input';
  textarea.placeholder = 'è«‹åœ¨æ­¤è¼¸å…¥ä½ çš„ç­”æ¡ˆ...';
  textarea.style.width = '100%';
  textarea.style.height = '150px';
  exerciseDiv.appendChild(textarea);

  const submitBtn = document.createElement('button');
  submitBtn.textContent = 'æäº¤æª¢æŸ¥';
  submitBtn.style.marginTop = '6px';
  submitBtn.onclick = submitWriting;
  exerciseDiv.appendChild(submitBtn);
}

function submitWriting() {
  const writingInput = document.getElementById('writing-input');
  if (!writingInput) return;

  const text = writingInput.value.trim();
  if (!text) {
    alert('è«‹å…ˆè¼¸å…¥ç­”æ¡ˆå†æäº¤ã€‚');
    return;
  }
  alert('âœ… ç­”æ¡ˆå·²æäº¤ï¼\n\nå»ºè­°è«‹è€å¸«æˆ–åŒå­¸å¹«å¿™çµ¦å›é¥‹ã€‚');
  writingInput.value = '';
}

function initializeLearningApp() {
  loadGrammarQuestion();

  const writingBtns = document.querySelectorAll('[data-level]');
  writingBtns.forEach(btn => {
    btn.addEventListener('click', function () {
      const level = this.getAttribute('data-level');
      loadWritingExercise(level);
    });
  });
}

document.addEventListener('DOMContentLoaded', initializeLearningApp);
</script>
</body>
</html>
